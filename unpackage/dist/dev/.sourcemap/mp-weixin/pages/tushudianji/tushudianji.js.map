{"version":3,"file":"tushudianji.js","sources":["pages/tushudianji/tushudianji.vue","../../Hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdHVzaHVkaWFuamkvdHVzaHVkaWFuamkudnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 状态栏占位（统一方法） -->\n    <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n    \n    <!-- 自定义导航栏 -->\n    <view class=\"custom-nav\">\n      <view class=\"back-btn\" @tap=\"goBack\" hover-class=\"back-btn--hover\">＜</view>\n      <view class=\"nav-center\">图书典籍</view>\n      <view class=\"nav-right\">\n        <u-icon name=\"more-dot\" color=\"#ffffff\" size=\"22\"></u-icon>\n        <u-switch v-model=\"switchStatus\" size=\"24\" active-color=\"#ffffff\" inactive-color=\"#ffffff\"></u-switch>\n      </view>\n    </view>\n    \n    <!-- 搜索框 -->\n    <view class=\"search-container\">\n      <view class=\"search-box\">\n        <u-icon name=\"search\" color=\"#cccccc\" size=\"16\" class=\"search-icon\"></u-icon>\n        <input \n          type=\"text\" \n          placeholder=\"搜索中医典籍...\" \n          v-model=\"searchText\"\n          class=\"search-input\"\n        >\n      </view>\n    </view>\n    \n    <!-- 内容区 -->\n    <view class=\"content-wrapper\" :style=\"{ top: contentTop + 'px' }\">\n      <scroll-view class=\"content-scroll\" scroll-y>\n        <view class=\"content-container\">\n          <!-- 左侧导航 -->\n          <view class=\"left-nav\">\n            <view \n              class=\"nav-item\" \n              :class=\"{ active: activeNav === index }\" \n              v-for=\"(nav, index) in navList\" \n              :key=\"index\"\n              @click=\"activeNav = index\"\n            >\n              <view class=\"nav-icon\">\n                <image :src=\"nav.icon\" mode=\"aspectFit\" class=\"nav-img\"></image>\n              </view>\n              <text class=\"nav-text\">{{ nav.name }}</text>\n            </view>\n          </view>\n          \n          <!-- 右侧书籍列表 -->\n          <view class=\"book-list\">\n            <view \n              class=\"book-item\" \n              v-for=\"(book, index) in books\" \n              :key=\"index\"\n              @click=\"goBookDetail(book)\"\n            >\n              <image :src=\"book.cover\" class=\"book-cover\" mode=\"aspectFill\"></image>\n              <view class=\"book-info\">\n                <text class=\"book-title\">{{ book.title }}</text>\n                <text class=\"book-author\">作者: {{ book.author }}</text>\n                <text class=\"book-publisher\">出版社: {{ book.publisher }}</text>\n                <text class=\"book-desc\">{{ book.description }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n      </scroll-view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      statusBarHeight: 20, // 默认值20px\n      contentTop: 0, // 内容区动态定位\n      searchText: '',\n      switchStatus: true,\n      activeNav: 0, // 当前选中导航\n      navList: [\n        { name: '经典医著', icon: '/static/书.png' },\n        { name: '方剂典籍', icon: '/static/展示-叶子.png' },\n        { name: '针灸类书', icon: '/static/齿轮.png' },\n        { name: '养生保健', icon: '/static/爱心.png' },\n        { name: '现代医论', icon: '/static/医院.png' }\n      ],\n      books: [\n        {\n          title: '黄帝内经',\n          author: '佚名',\n          publisher: '中医古籍出版社',\n          description: '中医理论的奠基之作，是中国现存最早的医学典籍，由《素问》和《灵枢》两部分组成。',\n          cover: 'https://vcg00.cfp.cn/creative/vcg/800/new/VCG211399529876.jpg'\n        },\n        {\n          title: '伤寒论',\n          author: '张仲景',\n          publisher: '人民卫生出版社',\n          description: '汉代医学家张仲景所著的中医经典著作，是中医临床辨证论治的奠基之作。',\n          cover: 'https://vcg00.cfp.cn/creative/vcg/800/new/VCG211359302921.jpg'\n        },\n        {\n          title: '金匮要略',\n          author: '张仲景',\n          publisher: '中国中医药出版社',\n          description: '与《伤寒论》合称为《伤寒杂病论》，是中医临床的经典著作之一。',\n          cover: 'https://vcg00.cfp.cn/creative/vcg/800/new/VCG211308569769.jpg'\n        },\n        {\n          title: '神农本草经',\n          author: '佚名',\n          publisher: '中医古籍出版社',\n          description: '中国现存最早的药物学专著，被誉为中药学经典著作，收载药物365种。',\n          cover: 'https://vcg00.cfp.cn/creative/vcg/800/new/VCG211359421375.jpg'\n        }\n      ]\n    }\n  },\n  onLoad() {\n    // 同步获取状态栏高度\n    try {\n      const systemInfo = uni.getSystemInfoSync()\n      this.statusBarHeight = systemInfo.statusBarHeight || 20\n      \n      // 计算内容区定位（状态栏 + 导航栏 + 搜索框高度）\n      const navHeight = 50 // 导航栏高度\n      const searchHeight = 66 // 搜索框高度\n      this.contentTop = this.statusBarHeight + navHeight + searchHeight\n    } catch (e) {\n      console.log('获取系统信息失败，使用默认值')\n    }\n  },\n  methods: {\n    goBack() {\n      uni.navigateBack()\n    },\n    goBookDetail(book) {\n      uni.navigateTo({\n        url: '/pages/bookDetail?title=' + encodeURIComponent(book.title)\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 基础样式 */\n.container {\n  position: relative;\n  height: 100vh;\n  background-color: #f5f5f5;\n}\n\n/* 状态栏（统一方法） */\n.status-bar {\n  width: 100%;\n  background-color: #ffffff; /* 与导航栏同色 */\n}\n\n/* 导航栏 */\n.custom-nav {\n  height: 50px;\n  display: flex;\n  align-items: center;\n  padding: 0 16px;\n  background-color: #00a651;\n  position: sticky;\n  top: var(--status-bar-height);\n  z-index: 10;\n}\n\n.back-btn {\n  font-size: 24px;\n  color: white;\n  margin-right: 12px;\n}\n\n.back-btn--hover {\n  opacity: 0.8;\n}\n\n.nav-center {\n  flex: 1;\n  text-align: center;\n  font-size: 18px;\n  font-weight: 600;\n  color: white;\n}\n\n.nav-right {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n/* 搜索框 */\n.search-container {\n  padding: 15px;\n  background-color: #00a651;\n  position: sticky;\n  top: calc(var(--status-bar-height) + 50px);\n  z-index: 9;\n}\n\n.search-box {\n  height: 36px;\n  background: white;\n  border-radius: 18px;\n  display: flex;\n  align-items: center;\n  padding: 0 15px;\n}\n\n.search-icon {\n  margin-right: 8px;\n}\n\n.search-input {\n  flex: 1;\n  height: 100%;\n  font-size: 14px;\n  color: #333;\n}\n\n/* 内容区 */\n.content-wrapper {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.content-scroll {\n  height: 100%;\n}\n\n.content-container {\n  display: flex;\n  min-height: 100%;\n  padding-bottom: env(safe-area-inset-bottom);\n}\n\n/* 左侧导航 */\n.left-nav {\n  width: 85px;\n  background: white;\n  padding-top: 10px;\n}\n\n.nav-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 12px 0;\n  margin-bottom: 5px;\n  color: #666;\n}\n\n.nav-item.active {\n  background: #f0f7f3;\n  border-radius: 0 15px 15px 0;\n  color: #00a651;\n}\n\n.nav-icon {\n  width: 28px;\n  height: 28px;\n  margin-bottom: 5px;\n}\n\n.nav-img {\n  width: 100%;\n  height: 100%;\n}\n\n.nav-text {\n  font-size: 12px;\n}\n\n/* 书籍列表 */\n.book-list {\n  flex: 1;\n  padding: 10px 15px 10px 5px;\n}\n\n.book-item {\n  display: flex;\n  background: white;\n  border-radius: 8px;\n  padding: 12px;\n  margin-bottom: 12px;\n  box-shadow: 0 1px 6px rgba(0,0,0,0.05);\n}\n\n.book-cover {\n  width: 80px;\n  height: 110px;\n  border-radius: 4px;\n  background: #eee;\n}\n\n.book-info {\n  flex: 1;\n  margin-left: 12px;\n}\n\n.book-title {\n  font-size: 16px;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 6px;\n  display: block;\n}\n\n.book-author, \n.book-publisher {\n  font-size: 12px;\n  color: #999;\n  margin-bottom: 4px;\n  display: block;\n}\n\n.book-desc {\n  font-size: 13px;\n  color: #666;\n  margin-top: 8px;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style>","import MiniProgramPage from 'D:/uniapp-1/shennong/pages/tushudianji/tushudianji.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAwEA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,iBAAiB;AAAA;AAAA,MACjB,YAAY;AAAA;AAAA,MACZ,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,WAAW;AAAA;AAAA,MACX,SAAS;AAAA,QACP,EAAE,MAAM,QAAQ,MAAM,gBAAiB;AAAA,QACvC,EAAE,MAAM,QAAQ,MAAM,oBAAqB;AAAA,QAC3C,EAAE,MAAM,QAAQ,MAAM,iBAAkB;AAAA,QACxC,EAAE,MAAM,QAAQ,MAAM,iBAAkB;AAAA,QACxC,EAAE,MAAM,QAAQ,MAAM,iBAAiB;AAAA,MACxC;AAAA,MACD,OAAO;AAAA,QACL;AAAA,UACE,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,WAAW;AAAA,UACX,aAAa;AAAA,UACb,OAAO;AAAA,QACR;AAAA,QACD;AAAA,UACE,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,WAAW;AAAA,UACX,aAAa;AAAA,UACb,OAAO;AAAA,QACR;AAAA,QACD;AAAA,UACE,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,WAAW;AAAA,UACX,aAAa;AAAA,UACb,OAAO;AAAA,QACR;AAAA,QACD;AAAA,UACE,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,WAAW;AAAA,UACX,aAAa;AAAA,UACb,OAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AAEP,QAAI;AACF,YAAM,aAAaA,cAAG,MAAC,kBAAkB;AACzC,WAAK,kBAAkB,WAAW,mBAAmB;AAGrD,YAAM,YAAY;AAClB,YAAM,eAAe;AACrB,WAAK,aAAa,KAAK,kBAAkB,YAAY;AAAA,IACvD,SAAS,GAAG;AACVA,oBAAAA,MAAY,MAAA,OAAA,4CAAA,gBAAgB;AAAA,IAC9B;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,SAAS;AACPA,oBAAAA,MAAI,aAAa;AAAA,IAClB;AAAA,IACD,aAAa,MAAM;AACjBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,6BAA6B,mBAAmB,KAAK,KAAK;AAAA,OAChE;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9IA,GAAG,WAAW,eAAe;"}